CREATE TABLE [CLIENTE] (
	ClienteId integer NOT NULL,
	Nome varchar(255) NOT NULL,
	CPF varchar(15) NOT NULL,
	Email varchar(100) NOT NULL,
	DataNasc datetime NOT NULL,
	Sexo varchar(1) NOT NULL,
	Telefone varchar(15) NOT NULL,
	Celular varchar(15) NOT NULL,
	CEP varchar(255) NOT NULL,
	Logradouro varchar(300) NOT NULL,
	Numero varchar(100) NOT NULL,
	Cidade varchar(255) NOT NULL,
	UF varchar(2) NOT NULL,
	Complemento varchar(255) NOT NULL,
	Bairro varchar(255) NOT NULL,
	DataCadastro datetime NOT NULL,
  CONSTRAINT [PK_CLIENTE] PRIMARY KEY CLUSTERED
  (
  [ClienteId] ASC
  ) WITH (IGNORE_DUP_KEY = OFF)

)
GO
CREATE TABLE [FILME] (
	FilmeId integer NOT NULL,
	Nome varchar(255) NOT NULL,
	DataEstreia datetime NOT NULL,
	Rating integer NOT NULL,
	Trailer varchar(350) NOT NULL,
	Descricao text NOT NULL,
	DataCadastro datetime NOT NULL,
  CONSTRAINT [PK_FILME] PRIMARY KEY CLUSTERED
  (
  [FilmeId] ASC
  ) WITH (IGNORE_DUP_KEY = OFF)

)
GO
CREATE TABLE [INGRESSO] (
	IngressoId integer NOT NULL,
	FilmeId integer NOT NULL,
	ClienteId integer NOT NULL,
	DataCompra datetime NOT NULL,
  CONSTRAINT [PK_INGRESSO] PRIMARY KEY CLUSTERED
  (
  [IngressoId] ASC
  ) WITH (IGNORE_DUP_KEY = OFF)

)
GO
CREATE TABLE [AVALIACAO] (
	AvaliacaoId integer NOT NULL,
	ClienteId integer NOT NULL,
	Descricao text NOT NULL,
	Data datetime NOT NULL,
  CONSTRAINT [PK_AVALIACAO] PRIMARY KEY CLUSTERED
  (
  [AvaliacaoId] ASC
  ) WITH (IGNORE_DUP_KEY = OFF)

)
GO
CREATE TABLE [CONTATO] (
	ContatoId integer NOT NULL,
	ClienteId integer NOT NULL,
	Assunto varchar(500) NOT NULL,
	Texto text NOT NULL,
	Data datetime NOT NULL,
  CONSTRAINT [PK_CONTATO] PRIMARY KEY CLUSTERED
  (
  [ContatoId] ASC
  ) WITH (IGNORE_DUP_KEY = OFF)

)
GO
CREATE TABLE [FAVORITO] (
	FavoritaId integer NOT NULL,
	ClienteId integer NOT NULL,
	FilmeId integer NOT NULL,
  CONSTRAINT [PK_FAVORITO] PRIMARY KEY CLUSTERED
  (
  [FavoritaId] ASC
  ) WITH (IGNORE_DUP_KEY = OFF)

)
GO
CREATE TABLE [RESERVA] (
	ReservaId integer NOT NULL,
	FilmeId integer NOT NULL,
	ClienteId integer NOT NULL,
  CONSTRAINT [PK_RESERVA] PRIMARY KEY CLUSTERED
  (
  [ReservaId] ASC
  ) WITH (IGNORE_DUP_KEY = OFF)

)
GO


ALTER TABLE [INGRESSO] WITH CHECK ADD CONSTRAINT [INGRESSO_fk0] FOREIGN KEY ([FilmeId]) REFERENCES [FILME]([FilmeId])
ON UPDATE CASCADE
GO
ALTER TABLE [INGRESSO] CHECK CONSTRAINT [INGRESSO_fk0]
GO
ALTER TABLE [INGRESSO] WITH CHECK ADD CONSTRAINT [INGRESSO_fk1] FOREIGN KEY ([ClienteId]) REFERENCES [CLIENTE]([ClienteId])
ON UPDATE CASCADE
GO
ALTER TABLE [INGRESSO] CHECK CONSTRAINT [INGRESSO_fk1]
GO

ALTER TABLE [AVALIACAO] WITH CHECK ADD CONSTRAINT [AVALIACAO_fk0] FOREIGN KEY ([ClienteId]) REFERENCES [CLIENTE]([ClienteId])
ON UPDATE CASCADE
GO
ALTER TABLE [AVALIACAO] CHECK CONSTRAINT [AVALIACAO_fk0]
GO

ALTER TABLE [CONTATO] WITH CHECK ADD CONSTRAINT [CONTATO_fk0] FOREIGN KEY ([ClienteId]) REFERENCES [CLIENTE]([ClienteId])
ON UPDATE CASCADE
GO
ALTER TABLE [CONTATO] CHECK CONSTRAINT [CONTATO_fk0]
GO

ALTER TABLE [FAVORITO] WITH CHECK ADD CONSTRAINT [FAVORITO_fk0] FOREIGN KEY ([ClienteId]) REFERENCES [CLIENTE]([ClienteId])
ON UPDATE CASCADE
GO
ALTER TABLE [FAVORITO] CHECK CONSTRAINT [FAVORITO_fk0]
GO
ALTER TABLE [FAVORITO] WITH CHECK ADD CONSTRAINT [FAVORITO_fk1] FOREIGN KEY ([FilmeId]) REFERENCES [FILME]([FilmeId])
ON UPDATE CASCADE
GO
ALTER TABLE [FAVORITO] CHECK CONSTRAINT [FAVORITO_fk1]
GO

ALTER TABLE [RESERVA] WITH CHECK ADD CONSTRAINT [RESERVA_fk0] FOREIGN KEY ([FilmeId]) REFERENCES [FILME]([FilmeId])
ON UPDATE CASCADE
GO
ALTER TABLE [RESERVA] CHECK CONSTRAINT [RESERVA_fk0]
GO
ALTER TABLE [RESERVA] WITH CHECK ADD CONSTRAINT [RESERVA_fk1] FOREIGN KEY ([ClienteId]) REFERENCES [CLIENTE]([ClienteId])
ON UPDATE CASCADE
GO
ALTER TABLE [RESERVA] CHECK CONSTRAINT [RESERVA_fk1]
GO
